# Codeforces Raif Round 1 (#1428)

## E. Carrots for Rabbits
For a carrot of length $l$ cut into $p$ pieces the optimal strategy is to cut it into piece sizes as close to each other as possible. For example $l=10,p=4$, it is optimal to select pieces of size $2,2,3,3$. (This is a result of $(a+x)^2+(a-x)^2 > 2a^2$ for all $x\ge 1$). Also, note that the higher the value of $p$, the less cost you save for the $(p+1)th$ cut (proof later, intuitive sense ig because a higher $p$ results in smaller piece sizes, and the smaller a size $x$, the smaller $(x+1)^2-x^2$ is). So it's optimal to continuously cut the carrot with the highest cost reduction. We can maintain this in a priority queue to obtain a solution in $O(KlogN)$.

A proof from the official editorial:
Define $f(l,p)$ as the min sum to cut a carrot of length $l$ into $p$ pieces. Then $f(2l,2p)=2f(l,p)$ because it's optimal to cut it into two pieces of length $l$. $f(l,p-1)+f(l,p+1) > f(2l,2p)$. This is because $f(l,p-1)+f(l,p+1)$ is the same as splitting a carrot of length $2l$ in half and then cutting the results individually into $p-1$ and $p+1$ pieces (in total $2p$ pieces), which is always worse than the optimal solution of $f(2l,2p)$. Now substitute $f(2l,2p)$ and rearrange to get $f(l,p-1)-f(l,p)>f(l,p)-f(l,p+1)$. 