# Educational Codeforces Round 55 (#1082)

## E. Increasing Frequency
$f_{a,i}$ denotes the frequency of $a$ in the range $[1,i]$. By adding $k$ to a range, all copies of $c-k$ in that range become $c$, and all copies of $c$ in that range change to a different value. Across all $k$, $l$, and $r$ satisfying $l\le{r}$, the goal is to maximize $f_{c,n}+(f_{c-k,r}-f_{c-k,l-1})-(f_{c,r}-f_{c,l-1})$ (frequency of $c-k$ in the range $[l,r]$ minus the frequency of $c$ in the range $[l,r]$, done using prefix sums). Drop the $f_{c,n}$ term; it's constant so we can add it back at the end. Then rearrange to $(f_{c-k,r}-f_{c,r})-(f_{c-k,l-1}-f_{c,l-1})$, and we want to maximize the first term and minimize the second. 

Because we're maximizing the first term, we only have to consider the indices at occurences of $c-k$ as we want to maximize $f_{c-k,r}$ in the first term. By similar logic, for the second, we only have to consider the index right before occurences of $c-k$. So possible $r$ values are at occurences of $c-k$ and $l-1$ values are at the index right before occurences of $c-k$. For each value of $c-k$, go through each possible $r$ value find the corresponding $l-1$ value such that $l-1<r$ and $(f_{c-k,l-1}-f_{c,l-1})$ is minimized. $O(N)$ runtime.