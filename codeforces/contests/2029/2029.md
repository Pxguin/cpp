# Refact.ai Match 1/Codeforces Round 985 (#2029)

## E. Common Generator
It feels like $2400$ idk why the rating is only $2100$. But, it is one of my favorite problems :thumbs_up:

First, a prime can't be a generator of another prime. Also, increasing a number by a divisor is the same thing as taking a prime factor of that number and increasing it by $1$. Thus, the numbers able to be generated by a prime number (excluding the prime itself) must be a subset of the numbers generated by any prime numbers smaller than it. So, this means that the answer must be a prime number. Also, we want to consider prime numbers from smallest to largest.

Therefore, if there exist two primes in the array then there is already no solution. If there's only one prime then we simply have to verify whether it can generate all other numbers; if there's no prime then we'll choose the smallest prime, $2$. Call this chosen prime $p$.

Onto how to check if $p$ works:
 - The smallest number that $p$ can generate is $2p$. So if the number $x$ is even, then it works if $x\ge{2p}$ because we can constantly add $2$ to $2p$.
 - If $x$ is odd, then the largest number than generates this number must be $x-d(x)$ where $d$ is equal to the smallest divisor of $x$. This is because $x-d(x)$ must contain $d(x)$ as a divisor; also, it will always be even. So therefore we just check if $x-d(x)\ge{2p}$.

The runtime becomes $O(N)$ when excluding $O((\max{a_i})log(\max{a_i}))$ prime precomputation.